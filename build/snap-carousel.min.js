((t,s,e,i,n,o,r,l,a)=>{if(!("onscrollend"in t)){const d=new Event("scrollend"),v=new Set;s.addEventListener("touchstart",(t=>{for(let s of t.changedTouches)v.add(s.identifier)}),{passive:!0}),s.addEventListener("touchend",(t=>{for(let s of t.changedTouches)v.delete(s.identifier)}),{passive:!0});let g=new WeakMap;function h(t,s,i){let n=t[s];t[s]=function(){let t=e.prototype.slice.apply(arguments,[0]);n.apply(this,t),t.unshift(n),i.apply(this,t)}}function c(t,s,e,i){if("scroll"!=s&&"scrollend"!=s)return;let n=this,o=g.get(n);if(void 0===o){let s=0;o={scrollListener:t=>{r(s),s=l((()=>{v.size?l(o.scrollListener,100):(n.dispatchEvent(d),s=0)}),100)},listeners:0},t.apply(n,["scroll",o.scrollListener]),g.set(n,o)}o.listeners++}function p(t,s,e){if("scroll"!=s&&"scrollend"!=s)return;let i=this,n=g.get(i);void 0!==n&&(n[s]--,--n.listeners>0||(t.apply(i,["scroll",n.scrollListener]),g.delete(i)))}h(n.prototype,"addEventListener",c),h(t,"addEventListener",c),h(s,"addEventListener",c),h(n.prototype,"removeEventListener",p),h(t,"removeEventListener",p),h(s,"removeEventListener",p)}class u extends HTMLElement{#t;#s;#e={controls:{buttons:[]},pagination:{container:null,dots:[],active:null},pager:{container:null,current:null,sep:null,total:null},scroller:null,items:null};#i={default:{},origin:{},current:{}};#n={index:0,itemsCount:0,pageCount:0,isVisible:!1,autoplayInterval:null,breakpoint:void 0};#o="snp-c";static get observedAttributes(){const t=i.keys(u.defaultConfig).map((t=>t.replace(/[A-Z]/g,(t=>"-"+t.toLowerCase()))));return[...t,...t.map((t=>"data-"+t))]}static get defaultConfig(){return{autoplay:0,displayed:1,perPage:1,gap:0,padding:0,controls:!1,nav:!1,pager:!1,loop:!1,behavior:"smooth",stop:!1,usePause:!0,vertical:!1,responsive:[]}}constructor(){super(),this.#i.default=u.defaultConfig}connectedCallback(){if(!this.isConnected)return;const t=s.createElement("template");t.innerHTML='<style>:host{display:block;position:relative;width:100%}:host(:not([scrollbar])) ::slotted([slot=scroller]){scrollbar-width:none}:host(:not([scrollbar])) ::slotted([slot=scroller])::-webkit-scrollbar{display:none}::slotted([slot=scroller]){display:flex;gap:var(--sc-gap);margin:0;position:relative;scroll-behavior:var(--sc-behavior)}:host(:not([vertical])) ::slotted([slot=scroller]){overflow-x:auto;overscroll-behavior-x:contain;padding:0 var(--sc-padding)!important;scroll-padding-inline:var(--sc-padding);scroll-snap-type:x mandatory}:host([vertical]) ::slotted([slot=scroller]){flex-direction:column;overflow-y:auto;overscroll-behavior-y:contain;padding:var(--sc-padding) 0!important;scroll-padding-block:var(--sc-padding);scroll-snap-type:y mandatory}</style><slot name="scroller"><ul></ul></slot><div part="controls"><div part="buttons"><slot name="prev-buttons"><button part="button control-button prev-button" type="button" direction="prev" aria-label="Previous">Previous</button></slot><slot name="next-buttons"><button part="button control-button next-button" type="button" direction="next" aria-label="Next">Next</button></slot></div><slot name="pagination"><div part="nav"></div></slot><div part="pager"><slot name="current"><span part="current"></span></slot><slot name="sep"><span part="page-sep">&nbsp;/&nbsp;</span></slot><slot name="total"><span part="total"></span></slot></div></div>',this.attachShadow({mode:"open"}),this.shadowRoot.appendChild(t.content.cloneNode(!0));const e=this.#r("scroller",{fallback:!0})[0];new MutationObserver((t=>{t.forEach((t=>{(t.addedNodes.length||t.removedNodes.length)&&(this.#l(),this.#a())}))})).observe(e,{childList:!0}),this.#h()}attributeChangedCallback(){this.#n.ready&&this.#c()}goTo(t){this.#t=!1;const{scroller:s,items:e}=this.#e,{perPage:i,vertical:n}=this.#i.current,o=t>this.#n.pageCount-1?0:t<0?this.#n.pageCount-1:t,r=e[o*i];this.#p(o),this.#n.ready=!0;let l=0,h=0;n?l=r.offsetTop:h=this.#u()?r.offsetLeft:r.offsetLeft+r.offsetWidth-s.offsetWidth,this.#t=!0,a((()=>{s.scrollTo({top:l,left:h})}),{timeout:100})}prev(){this.goTo(this.state.index-1)}next(){this.goTo(this.state.index+1)}#h(){const s=this.#r("scroller",!0)[0];s&&(s.onscroll=this.#d.bind(this),s.addEventListener("scrollend",this.#v.bind(this)),t.addEventListener("resize",this.#g.bind(this)),this.#e.scroller=s,this.elements=this.#e,this.settings=this.#i,this.state=this.#n,this.ariaRoleDescription="carousel",i.assign(s,{role:"group",ariaLive:"polite",ariaAtomic:!1}),this.#l(),this.#b(),this.#m(),this.#c(),this.#f(),this.#n.ready=!0)}#l(){const t=e.from(this.#e.scroller.children).filter((t=>!["absolute","fixed"].includes(getComputedStyle(t).position))),s=t.length;this.#e.items=t,this.#n.itemsCount=s,t.forEach(((t,e)=>{t.dataset.index=e,i.assign(t,{ariaSetSize:s,ariaPosInSet:e+1,ariaRoleDescription:"slide",role:"listitem"})}))}#b(){const t=`${this.#o}-global-styles`;if(s.querySelector("#"+t))return;s.head.append(this.#y("snap-carousel:not([scrollbar]) [slot=scroller]::-webkit-scrollbar{display:none}snap-carousel [slot=scroller]{display:flex}snap-carousel[vertical]{display:flex;flex-direction:column}snap-carousel[vertical] [slot=scroller]{flex-direction:column;height:100%}snap-carousel [slot=scroller]>*{display:block;flex:0 0 auto}snap-carousel:not([vertical]) [slot=scroller]>*{max-width:100%;width:calc(100%/var(--sc-perpage, 1) - var(--sc-gap, 0) + var(--sc-gap, 0)/var(--sc-perpage, 1))}snap-carousel[vertical] [slot=scroller]>*{height:calc(100%/var(--sc-perpage, 1) - var(--sc-gap, 0) + var(--sc-gap, 0)/var(--sc-perpage, 1));max-height:100%}",t))}#m(){this.id=this.#n.id=this.#o+"-"+(Math.random()+1).toString(36).substring(4)}#c(){this.#n.breakpoint=void 0,this.#i.origin=i.assign({},this.#i.default,this.#x()),this.#i.origin.responsive=(this.#i.origin.responsive||[]).sort(((t,s)=>t.breakpoint-s.breakpoint)),this.#w()}#C(t){this.#e.scroller.clientWidth?t():requestAnimationFrame((()=>{this.#C()}))}#x(){const t=i.keys(this.#i.default);return this.attributes.options?this.#P(this.attributes.options.value):e.from(this.attributes).reduce(((s,e)=>{const i=e.name.replace("data-","").replace(/-([a-z])/g,(t=>t[1].toUpperCase()));return t.includes(i)&&(s[i]=this.#P(e.value)),s}),{})}#P(t){let s;if(""===t)return!0;try{s=JSON.parse(t)}catch(s){return t}return s}#w(){let s={breakpoint:null},{origin:e,current:n}=this.#i;e.responsive.forEach((e=>{e.breakpoint<t.innerWidth&&(s=e)})),n=i.assign({},e,s.config||{});let{displayed:o,perPage:r}=n;n.perPage=Math.min(o,r),this.#i.current=n,this.#n.breakpoint!==s.breakpoint&&(this.#n.breakpoint=s.breakpoint,this.#a())}#a(){this.#C((()=>{this.#k(),this.#E(),this.#S(),this.#L(),this.#$(),this.#M(),this.#p(0)}))}#M(){const{vertical:t}=this.#i.current,s=t?"padding-top":"padding-left";this.#n.computedPadding=parseInt(getComputedStyle(this.#e.scroller)[s],10)}#k(){const{current:t}=this.#i,{itemsCount:s}=this.#n,e=Math.floor((t.displayed-t.perPage)/t.perPage);this.#n.pageCount=Math.ceil(s/t.perPage)-e}#E(){const t=s.querySelector("#"+this.#n.id+"-styles");t&&t.remove();const{displayed:e,gap:i,padding:n,perPage:o,stop:r,behavior:l}=this.#i.current,a=o>1?`*:nth-child(${o}n + 1)`:"*",h=`#${this.#n.id} { --sc-perpage: ${e}; --sc-gap: ${this.#I(i)}; --sc-padding: ${this.#I(n)}; --sc-behavior: ${l}; } #${this.#n.id} [slot="scroller"] > ${a} { scroll-snap-align: start; scroll-snap-stop: ${r?"always":"normal"} }`;this.styles=this.#y(h,this.#n.id+"-styles"),s.body.append(this.styles)}#f(){const{items:t,scroller:s}=this.#e;new o((t=>{let s=t[0];this.#n.isVisible=s.intersectionRatio>.1,this.#n.pause=!this.#n.isVisible,this.#A()}),{threshold:[.1,.9]}).observe(this),this.#i.current.usePause&&(this.addEventListener("mouseenter",(()=>{this.#n.pause=!0,this.#A()})),this.addEventListener("mouseleave",(()=>{this.#n.pause=!1,this.#A()})));const e=new o((t=>{t.forEach((t=>{t.target.toggleAttribute("visible",t.isIntersecting),t.target.toggleAttribute("inert",!t.isIntersecting)}))}),{scroller:s,threshold:.6});t.forEach((t=>e.observe(t)))}#g(){r(this.resizeTm),this.resizeTm=l((()=>{this.#M(),this.#w()}),100)}#d(){if(this.#s)return;this.#N(),this.newIndex=this.#n.index;const t=this.#z();t!=this.#n.index&&(this.newIndex=t,this.#p(t),this.#O("scrollupdate"))}#O(t){const{current:s}=this.#i;this.dispatchEvent(new CustomEvent(t,{detail:this.#n})),s["on"+t]&&s["on"+t](this)}#N(){this.#n.isMoving||this.#O("scrollstart"),this.#n.isMoving=!0}#v(){this.#s||(this.#O("scrollend"),this.#t=!1,this.#n.isMoving=!1,"number"==typeof this.newIndex?(this.#p(this.newIndex),this.newIndex=null):this.#p(this.#n.index),this.#A())}#p(t){void 0!==t&&(this.#n.index=t),this.#T(),this.#t||(this.#D(),this.#R()),this.#V()}#z(t){const{scroller:s,items:e}=this.#e,{perPage:i,vertical:n}=this.#i.current,o=this.#u();let r=0;r=n?s.scrollTop:o?s.scrollLeft:s.scrollLeft+s.clientWidth;let l=e.map((t=>{let s=0;return s=n?t.offsetTop-(this.#n.computedPadding||0)-r:(o?t.offsetLeft:t.offsetLeft+t.clientWidth)-(this.#n.computedPadding||0)-r,{index:parseInt(t.dataset.index,10),distance:Math.abs(s)}})).reduce(((t,s)=>!t||s.distance<t.distance?s:t),null);return t?l:Math.ceil(l.index/i)}#S(){const{pagination:t}=this.#e;let{container:s,dots:e}=t,{current:i}=this.#i;if(s?(s.innerHTML=null,e.forEach((t=>t.remove())),this.#e.pagination.dots=[]):(s=this.#r("pagination")[0],s.addEventListener("keydown",this.#q.bind(this)),t.container=s),s.style.display=i.nav&&this.#n.pageCount>1?"":"none",i.nav&&s)for(let t=0;t<this.#n.pageCount;t++)this.#F(t)}#L(){const{pager:t}=this.#e,{current:s}=this.#i;t.current||(["current","sep","total"].forEach((s=>{t[s]=this.#r(s)[0]})),t.container=this.shadowRoot.querySelector('[part="pager"]')),t.container.style.display=s.pager&&this.#n.pageCount>1?"":"none",t.current.innerHTML=1,t.total.innerHTML=this.#n.pageCount}#F(t){const{pagination:e}=this.#e,{container:n,dots:o}=e,r=s.createElement("button");r.innerHTML=t+1,r.addEventListener("click",(()=>this.goTo(t))),i.assign(r,{type:"button",part:"button nav-button",ariaControls:this.#e.scroller.id,ariaSelected:!1}),n.append(r),o.push(r)}#q(t){const s=this.#u(),e=this.#e.pagination.dots[this.#n.index]||0;switch(t.key){case"ArrowRight":case"ArrowLeft":const i=e[`${"ArrowRight"===t.key?s?"next":"previous":s?"previous":"next"}ElementSibling`];i&&(i.click(),i.focus())}}#$(){const{controls:t}=this.#e,{current:s}=this.#i,e=!s.controls||this.#n.pageCount<2;t.buttons=[...this.#r("prev-buttons"),...this.#r("next-buttons")],t.buttons.forEach((t=>{t.style=e?"display: none !important;":"",t.hasListener||(t.direction=t.getAttribute("direction")||"next",t.modifier=("next"===t.direction?1:-1)*(parseInt(t.getAttribute("modifier"),10)||1),t.hasListener=!0,t.addEventListener("click",(()=>{s.controls&&this.goTo(this.#n.index+t.modifier)})),i.assign(t,{ariaControls:this.#e.scroller.id}))}))}#r(t,s={fallback:!1}){const i=this.shadowRoot.querySelector([`[name="${t}"]`]);let n=i.assignedElements();return s.fallback&&!n.length&&""===this.children[0].slot&&(this.children[0].slot="scroller",n=i.assignedElements()),e.from(n.length?n:i.children)}#D(){if(!this.#i.current.nav)return;const{pagination:t}=this.#e;let{dots:s,active:e}=t;const n=s[this.#n.index];n&&(e&&(i.assign(e,{tabIndex:0,ariaSelected:!1}),e.part="button nav-button"),n.part="button nav-button active",i.assign(n,{tabIndex:-1,ariaSelected:!0}),t.active=n)}#R(){this.#i.current.pager&&(this.#e.pager.current.innerHTML=this.#n.index+1)}#V(){const{loop:t}=this.#i.current,{buttons:s}=this.#e.controls,{index:e,pageCount:i}=this.#n;let n=!1;if(s.forEach((s=>{const o=!t&&("next"===s.direction?e>=i-s.modifier:e<Math.abs(s.modifier));s===this.shadowRoot.activeElement&&o&&(n=!0),s.disabled=o?"disabled":""})),n){const t=s.filter((t=>!t.disabled));t.length&&t[0].focus()}}#T(){const{sync:t}=this.#i.current;t&&this.#n.ready&&(this.#e.sync=this.#e.sync||s.querySelectorAll(t)||[],this.#e.sync.forEach((t=>{t instanceof u&&t.goTo(this.#n.index)})))}#y(t,e){const i=s.createElement("style");return i.id=e,i.append(s.createTextNode(t)),i}#u(){return"rtl"!==s.firstElementChild.getAttribute("dir")}#I(t){return"string"==typeof t?t:t+"px"}#A(){if(!this.#i.current.autoplay)return;const{pause:t,isVisible:s}=this.#n;!t&&s?this.#n.autoplayInterval||(this.#n.autoplayInterval=l((()=>{this.#n.autoplayInterval=null,this.goTo(this.#n.index+1)}),this.#i.current.autoplay)):(r(this.#n.autoplayInterval),this.#n.autoplayInterval=null)}}t.customElements&&customElements.define("snap-carousel",u)})(window,document,Array,Object,Element,IntersectionObserver,clearTimeout,setTimeout,requestIdleCallback);
